<template>
  <div class="w-1.25rem h-full lang">
    <selectHz v-model:model-key="app.lang" :menu-items="options" @update="updateOpention">
      <template #title>
        <div class="selectLang">
          <div>
            <div v-if="app.lang === 0">
              <svg width="42" height="48" viewBox="0 0 960 640" transform="scale(1)">
                <rect x="0" y="0" width="768" height="512" fill="red" />
                <path d="M160,79
        L112.3894,225.5304
        L237.0356,134.9696
        L82.9644,134.9696
        L207.6106,225.5304
        Z" fill="yellow" />
                <path d="M292.5602,80.4639
        L351.8765,66.8091
        L295.8626,42.9908
        L327.1787,95.1844
        L332.522,34.5518
        Z" fill="yellow" />
                <path d="M352.3216,132.5255
        L406.9683,105.7187
        L378.5148,159.5264
        L369.9069,99.2705
        L412.2884,142.9589
        Z" fill="yellow" />
                <path d="M353.2312,215.2089
        L403.7252,249.1976
        L382.8547,192.0206
        L366.1311,250.5462
        L414.0597,213.0267
        Z" fill="yellow" />
                <path d="M295.0122,268.0098
        L351.9655,289.485
        L293.2665,305.5875
        L331.2902,258.0579
        L328.4656,318.8599
        Z" fill="yellow" />
              </svg>
            </div>
            <div v-if="app.lang === 1">
              <svg t="1687664536610" class="icon" viewBox="0 0 1544 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="7950" width="30" height="36">
                <path
                  d="M10.052 1017.718H1529.09V7.538H10.052v1010.18z m1521.55 2.513v-3.77 3.77zM3.77 1024V0h1531.603v1022.744H3.769z"
                  fill="#353636" p-id="7951"></path>
                <path d="M6.282 680.991h1525.32v339.24H6.282z" fill="#E51F1F" p-id="7952"></path>
                <path d="M6.282 343.009h1525.32v339.239H6.282z" fill="#232B8C" p-id="7953"></path>
                <path d="M6.282 3.77h1525.32v339.239H6.282z" fill="#FFFFFF" p-id="7954"></path>
              </svg>
            </div>
            <div v-if="app.lang === 3">
              <!-- 蒙古 -->
              <svg t="1747044152795" class="icon" viewBox="0 160 924 724" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3660" width="142" height="142">
                <path d="M1024 768a113.777778 113.777778 0 0 1-113.777778 113.777778H113.777778a113.777778 113.777778 0 0 1-113.777778-113.777778V256a113.777778 113.777778 0 0 1 113.777778-113.777778h796.444444a113.777778 113.777778 0 0 1 113.777778 113.777778v512z" fill="#C4272F" p-id="3661"></path>
                <path d="M341.333333 142.222222h341.333334v739.555556H341.333333z" fill="#005197" p-id="3662"></path><path d="M36.579556 467.313778h44.686222V824.888889H36.579556z m68.124444 67.043555H236.657778v22.357334H104.704z m155.363556-67.043555h44.686222V824.888889H260.067556z m-155.363556 268.145778H236.657778v22.357333H104.704z m2.474667-268.145778h126.976L170.666667 511.687111z m-2.474667 318.520889h131.925333L170.666667 831.971556z m110.648889-452.636445a44.657778 44.657778 0 1 1-89.344 0 44.657778 44.657778 0 0 1 89.344 0z m-22.328889-83.797333c0 21.589333-10.012444 27.932444-22.357333 27.932444s-22.357333-6.343111-22.357334-27.932444C148.309333 227.783111 163.669333 199.111111 170.666667 199.111111s22.357333 28.672 22.357333 50.289778z" fill="#F9CF01" p-id="3663"></path>
                <path d="M170.666667 409.713778c-37.063111 0-69.347556-16.867556-87.722667-42.012445a89.230222 89.230222 0 0 0 175.445333 0.028445c-18.375111 25.116444-50.659556 41.984-87.722666 41.984z m73.073777 236.373333a72.760889 72.760889 0 0 0-46.904888-67.982222c8.504889 7.310222 16.497778 12.714667 16.497777 30.208 0 27.676444-16.440889 42.552889-42.666666 42.552889v0.256a34.076444 34.076444 0 0 0-32.938667 33.934222c0 18.346667 14.677333 33.194667 32.938667 33.877333v0.227556c0.284444 0 0.512-0.085333 0.796444-0.085333 0.142222 0 0.256 0.085333 0.398222 0.085333 0.426667 0 0.768-0.227556 1.194667-0.227556a72.903111 72.903111 0 0 0 70.684444-72.846222z m-83.626666 38.968889c0-6.513778 5.205333-11.747556 11.747555-11.747556a11.747556 11.747556 0 1 1-11.747555 11.747556z" fill="#F9CF01" p-id="3664"></path>
                <path d="M170.666667 573.212444v-0.170666l-0.597334 0.056889-0.284444-0.056889c-0.312889 0-0.568889 0.170667-0.881778 0.170666a72.931556 72.931556 0 0 0-71.310222 72.874667c0 31.175111 19.541333 57.543111 46.904889 68.010667-8.504889-7.310222-15.843556-12.743111-15.843556-28.416 0-27.875556 14.904889-43.292444 40.675556-43.292445l0.056889-0.512c0.142222 0 0.256 0.085333 0.398222 0.085334 19.000889 0 34.446222-15.530667 34.446222-34.474667 0-18.744889-14.990222-33.792-33.564444-34.275556z m-0.881778 46.08a11.861333 11.861333 0 1 1 0-23.751111 11.861333 11.861333 0 0 1 0 23.751111z" fill="#F9CF01" p-id="3665"></path>
              </svg>
            </div>
            <div v-if="app.lang === 4">
              <!-- 英文 -->
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 480" width="30" height="36">
                <rect width="640" height="480" fill="#012169" />
                <path fill="#FFF" d="M0 0v53.3L566.7 480H640v-53.3L73.3 0H0zm640 0v53.3L73.3 480H0v-53.3L566.7 0H640z" />
                <path fill="#C8102E" d="M212.3 0L640 372.6V480L0 53.3V0h212.3zM640 0v53.3L73.3 480H0v-53.3L566.7 0H640z" />
                <path fill="#FFF" d="M256 0v480h128V0H256zM0 176v128h640V176H0z" />
                <path fill="#C8102E" d="M0 211.2v57.6h640v-57.6H0zM284.8 0v480h70.4V0h-70.4z" />
              </svg>
            </div>
          </div>
          <div class="xl">
            <svg-icon name="xl" />
          </div>
        </div>
      </template>
    </selectHz>
  </div>
</template>

<script lang="ts" setup>
import { useI18n } from "vue-i18n";
import { useAppStore } from "~/src/store/app";
import selectHz from "@/components/select/selectHz.vue";
const { locale } = useI18n();
const app = useAppStore();

const options = [
  {
    label: "Chinese",
    key: 0,
    render: (item) =>
      `<div style="display:flex;align-items: center;">    <svg width="16" height="16" viewBox='0 0 960 640' transform="scale(1)" >
        <rect x='0' y='0' width='960' height='640' fill='red'/>
        <path d="M160,79
        L112.3894,225.5304
        L237.0356,134.9696
        L82.9644,134.9696
        L207.6106,225.5304
        Z" fill='yellow'/>
        <path d="M292.5602,80.4639
        L351.8765,66.8091
        L295.8626,42.9908
        L327.1787,95.1844
        L332.522,34.5518
        Z" fill='yellow'/>
        <path d="M352.3216,132.5255
        L406.9683,105.7187
        L378.5148,159.5264
        L369.9069,99.2705
        L412.2884,142.9589
        Z" fill='yellow'/>
        <path d="M353.2312,215.2089
        L403.7252,249.1976
        L382.8547,192.0206
        L366.1311,250.5462
        L414.0597,213.0267
        Z" fill='yellow'/>
        <path d="M295.0122,268.0098
        L351.9655,289.485
        L293.2665,305.5875
        L331.2902,258.0579
        L328.4656,318.8599
        Z" fill='yellow'/>

    </svg><div style="margin-left:.625rem">${item}</div></div>`,
  },
  // {
  //   label: 'қазақ',
  //   key: 1,
  //   render: item =>
  //     `<div style="display:flex;align-items: center;"><svg  t="1687664536610" class="icon" viewBox="0 0 1544 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7950" width="16" height="16"><path d="M10.052 1017.718H1529.09V7.538H10.052v1010.18z m1521.55 2.513v-3.77 3.77zM3.77 1024V0h1531.603v1022.744H3.769z" fill="#353636" p-id="7951"></path><path d="M6.282 680.991h1525.32v339.24H6.282z" fill="#E51F1F" p-id="7952"></path><path d="M6.282 343.009h1525.32v339.239H6.282z" fill="#232B8C" p-id="7953"></path><path d="M6.282 3.77h1525.32v339.239H6.282z" fill="#FFFFFF" p-id="7954"></path></svg><div style="margin-left:.625rem">${item}</div></div>`
  // },
  {
    label: "Русский",
    key: 1,
    render: (item) =>
      `<div style="display:flex;align-items: center;"><svg  t="1687664536610" class="icon" viewBox="0 0 1544 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7950" width="16" height="16"><path d="M10.052 1017.718H1529.09V7.538H10.052v1010.18z m1521.55 2.513v-3.77 3.77zM3.77 1024V0h1531.603v1022.744H3.769z" fill="#353636" p-id="7951"></path><path d="M6.282 680.991h1525.32v339.24H6.282z" fill="#E51F1F" p-id="7952"></path><path d="M6.282 343.009h1525.32v339.239H6.282z" fill="#232B8C" p-id="7953"></path><path d="M6.282 3.77h1525.32v339.239H6.282z" fill="#FFFFFF" p-id="7954"></path></svg><div style="margin-left:.625rem">${item}</div></div>`,
  },
  //
  {
    label: "Монгол",
    key: 3,
    render: (item) =>
      `<div style="display:flex;align-items: center;"> <svg t="1747044152795" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3660" width="16" height="16"><path d="M1024 768a113.777778 113.777778 0 0 1-113.777778 113.777778H113.777778a113.777778 113.777778 0 0 1-113.777778-113.777778V256a113.777778 113.777778 0 0 1 113.777778-113.777778h796.444444a113.777778 113.777778 0 0 1 113.777778 113.777778v512z" fill="#C4272F" p-id="3661"></path><path d="M341.333333 142.222222h341.333334v739.555556H341.333333z" fill="#005197" p-id="3662"></path><path d="M36.579556 467.313778h44.686222V824.888889H36.579556z m68.124444 67.043555H236.657778v22.357334H104.704z m155.363556-67.043555h44.686222V824.888889H260.067556z m-155.363556 268.145778H236.657778v22.357333H104.704z m2.474667-268.145778h126.976L170.666667 511.687111z m-2.474667 318.520889h131.925333L170.666667 831.971556z m110.648889-452.636445a44.657778 44.657778 0 1 1-89.344 0 44.657778 44.657778 0 0 1 89.344 0z m-22.328889-83.797333c0 21.589333-10.012444 27.932444-22.357333 27.932444s-22.357333-6.343111-22.357334-27.932444C148.309333 227.783111 163.669333 199.111111 170.666667 199.111111s22.357333 28.672 22.357333 50.289778z" fill="#F9CF01" p-id="3663"></path><path d="M170.666667 409.713778c-37.063111 0-69.347556-16.867556-87.722667-42.012445a89.230222 89.230222 0 0 0 175.445333 0.028445c-18.375111 25.116444-50.659556 41.984-87.722666 41.984z m73.073777 236.373333a72.760889 72.760889 0 0 0-46.904888-67.982222c8.504889 7.310222 16.497778 12.714667 16.497777 30.208 0 27.676444-16.440889 42.552889-42.666666 42.552889v0.256a34.076444 34.076444 0 0 0-32.938667 33.934222c0 18.346667 14.677333 33.194667 32.938667 33.877333v0.227556c0.284444 0 0.512-0.085333 0.796444-0.085333 0.142222 0 0.256 0.085333 0.398222 0.085333 0.426667 0 0.768-0.227556 1.194667-0.227556a72.903111 72.903111 0 0 0 70.684444-72.846222z m-83.626666 38.968889c0-6.513778 5.205333-11.747556 11.747555-11.747556a11.747556 11.747556 0 1 1-11.747555 11.747556z" fill="#F9CF01" p-id="3664"></path><path d="M170.666667 573.212444v-0.170666l-0.597334 0.056889-0.284444-0.056889c-0.312889 0-0.568889 0.170667-0.881778 0.170666a72.931556 72.931556 0 0 0-71.310222 72.874667c0 31.175111 19.541333 57.543111 46.904889 68.010667-8.504889-7.310222-15.843556-12.743111-15.843556-28.416 0-27.875556 14.904889-43.292444 40.675556-43.292445l0.056889-0.512c0.142222 0 0.256 0.085333 0.398222 0.085334 19.000889 0 34.446222-15.530667 34.446222-34.474667 0-18.744889-14.990222-33.792-33.564444-34.275556z m-0.881778 46.08a11.861333 11.861333 0 1 1 0-23.751111 11.861333 11.861333 0 0 1 0 23.751111z" fill="#F9CF01" p-id="3665"></path></svg>
       <div style="margin-left:.625rem">${item}</div>
      </div>`,
  },
  {
    label: "English",
    key: 4,
    render: (item) =>
      `<div style="display:flex;align-items: center;">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 480" width="16" height="16">
          <rect width="640" height="480" fill="#012169"/>
          <path fill="#FFF" d="M0 0v53.3L566.7 480H640v-53.3L73.3 0H0zm640 0v53.3L73.3 480H0v-53.3L566.7 0H640z"/>
          <path fill="#C8102E" d="M212.3 0L640 372.6V480L0 53.3V0h212.3zM640 0v53.3L73.3 480H0v-53.3L566.7 0H640z"/>
          <path fill="#FFF" d="M256 0v480h128V0H256zM0 176v128h640V176H0z"/>
          <path fill="#C8102E" d="M0 211.2v57.6h640v-57.6H0zM284.8 0v480h70.4V0h-70.4z"/>
        </svg>
        <div style="margin-left:.625rem">${item}</div>
      </div>`,
},
  // {
  //   label: "Кыргызча",
  //   key: 5,
  //   render: (item) =>
  //     `<div style="display:flex;align-items: center;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="16" height="16"><rect width="512" height="512" fill="#FFD700"/><path d="M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256 256-114.6 256-256S397.4 0 256 0zm0 480c-123.7 0-224-100.3-224-224S132.3 32 256 32s224 100.3 224 224-100.3 224-224 224z" fill="#FFD700"/><path d="M256 128c-70.7 0-128 57.3-128 128s57.3 128 128 128 128-57.3 128-128-57.3-128-128-128zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z" fill="#FFD700"/><path d="M256 128c-70.7 0-128 57.3-128 128s57.3 128 128 128 128-57.3 128-128-57.3-128-128-128zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z" fill="#FFD700"/><path d="M256 128c-70.7 0-128 57.3-128 128s57.3 128 128 128 128-57.3 128-128-57.3-128-128-128zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z" fill="#FFD700"/><path d="M256 128c-70.7 0-128 57.3-128 128s57.3 128 128 128 128-57.3 128-128-57.3-128-128-128zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z" fill="#FFD700"/></svg><div style="margin-left:.625rem">${item}</div></div>`,
  // },
];
const obj = {
  0: "zh",//中文
  1: "rs",//俄语
  2: "kh",//哈萨克斯坦
  3: "mn",//蒙古
  4: "en",//英文
  5: "mt",//马耳他
  // 5: "kg", // 新增吉尔吉斯斯坦语言
};
const updateOpention = (row) => {
  locale.value = obj[row];
  localStorage.setItem("lang", obj[row]);
  app.langChange(row);
  location.reload();
};
// defineOptions({ name: "LanguageChange" });

// const { isFullscreen, toggle } = useFullscreen();
// const theme = useThemeStore();
</script>

<style scoped lang="scss">
.selectLang {
  cursor: pointer;
  display: flex;
  align-items: center;
  width: 59.2px;
  height: 36px;
  align-content: center;
  justify-content: space-between;

  >div {
    >div {
      width: 2.125rem;
      height: 1.4375rem;
      display: flex;
      align-items: center;
      justify-content: center;

      >svg {
        width: 100%;
        height: 100%;

      }

      rect {
        width: 100%;
        height: 100%;
      }
    }
  }

  .xl {
    // margin-left: 8px;
    // margin-bottom: 4.8px;

    .svg-icon {
      width: 12.8px !important;
      height: 12.8px !important;
    }
  }
}

.lang:hover {
  .xl {
    transform: rotate(180deg);
    transition: transform 0.1s ease;
  }
}

.lang {
  display: flex;
  align-items: center;
  justify-content: center;
}
</style>
